import{_ as P,r as k,o as Q,c as t,a as s,u as W,F as u,b as v,d as X,e as a,n as p,f as L,t as d,g as m}from"./index-BgtPerCU.js";const G={class:"page-header"},K=["src"],A={class:"chat-bg"},E={key:0,class:"avatar-row"},J=["src"],Z={key:0,class:"chat-bubble"},ee=["innerHTML"],te={class:"image-options-grid"},se=["onClick"],ae=["src","alt"],oe=["innerHTML","onClick"],ie={key:0,class:"options"},ne=["onClick"],le={key:3,class:"user-bubble"},re={key:4},ce={class:"chat-bubble"},ue=["src"],pe={class:"taste-q-content"},de={class:"taste-q-title"},he={class:"taste-options"},ve=["onClick"],me=["onClick"],ye={key:5,class:"card-bubble"},_e=["src"],ge={class:"card-content"},fe=["innerHTML"],be={class:"card-list"},ke=["innerHTML"],xe={class:"card-overlay-content"},Le=["innerHTML"],Te={class:"card-overlay-list"},Ce=["innerHTML"],we={class:"image-options-card-content"},Re=["innerHTML"],Ue={class:"image-options-grid"},Me=["onClick"],He=["src","alt"],Ie={class:"taste-choices-card-content"},Oe={class:"taste-q-content"},$e={key:0,class:"taste-options"},je=["onClick"],Be=["onClick"],De={class:"taste-choices-card2-content"},Se={class:"taste-q-content"},qe={key:0,class:"taste-options"},ze=["onClick"],Ye=["onClick"],Fe={class:"taste-choices-card3-content"},Ne={class:"taste-q-content"},Ve={key:0,class:"taste-options"},Pe=["onClick"],Qe=["onClick"],C=1,We={__name:"ChatTest",setup(Xe){const S=X(),q=new URL("/xiaomeitaste/assets/avatar-ya4WzHaS.png",import.meta.url).href;let w=C+1;const U=[new URL("/xiaomeitaste/assets/card1-CoyrFfgO.png",import.meta.url).href,new URL("/xiaomeitaste/assets/card2-DWbagW0_.png",import.meta.url).href,new URL("/xiaomeitaste/assets/card3-BfH-XLaq.png",import.meta.url).href,new URL("/xiaomeitaste/assets/card4-CTmhnzvY.png",import.meta.url).href,new URL("/xiaomeitaste/assets/card5-DVu3fafy.png",import.meta.url).href],z=U[Math.floor(Math.random()*U.length)],y=[new URL("/xiaomeitaste/assets/card6-CO6D4lS1.png",import.meta.url).href,new URL("/xiaomeitaste/assets/card7-DjiVLdvH.png",import.meta.url).href,new URL("/xiaomeitaste/assets/card8-B102eegC.png",import.meta.url).href];function M(){return y[Math.floor(Math.random()*y.length)]}const x=[{type:"card-overlay",image:z,title:'今年，<span class="card-highlight">72</span>份外卖准时送到，点外卖<br>的日子占了<span class="card-highlight">64%</span>',items:["床以外都是远方，筷子是年度最佳伴侣！等待时，你的经典姿势是？"]},{type:"options",options:["沉迷工作忘乎所以，外卖啥时候到的？","疯狂刷新地图看小哥一点一点挪过来","找好会议室，万事俱备就等饭到"],optionsId:C}],Y=[{text:"火锅",image:new URL("/xiaomeitaste/assets/hotpot-D6B6oaCY.jpg",import.meta.url).href},{text:"烧烤",image:new URL("/xiaomeitaste/assets/bbq-RfbNjBP0.jpg",import.meta.url).href},{text:"粤菜",image:new URL("/xiaomeitaste/assets/cantonese-B1IgC4xI.jpg",import.meta.url).href},{text:"铁板烧",image:new URL("/xiaomeitaste/assets/teppanyaki-C5HD3a-U.jpg",import.meta.url).href},{text:"川菜",image:new URL("/xiaomeitaste/assets/sichuan-BiSmbY6K.jpg",import.meta.url).href},{text:"日料",image:new URL("/xiaomeitaste/assets/japanese-3PqRV1R1.jpg",import.meta.url).href},{text:"江浙菜",image:new URL("/xiaomeitaste/assets/jiangzhe-DrRo7bmI.jpg",import.meta.url).href},{text:"东北菜",image:new URL("/xiaomeitaste/assets/dongbei-BZHlSxKp.jpg",import.meta.url).href},{text:"云南菜",image:new URL("/xiaomeitaste/assets/yunnan-Iez97K5g.jpg",import.meta.url).href}],H=[{options:["甜的","咸的"]}],F=[{options:["泡着吃","煮着吃"]}],N=[{options:["脆的","软的"]}],i=k([]);let g=0;const I=k(!1),f=k({}),R=k({}),T=k(null),b=k([null,null,null]);k(!1);function O(){g<x.length&&(i.value.push(x[g]),x[g].type==="options"&&h(x[g].options,x[g].optionsId),g++,g<x.length&&setTimeout(O,800))}function h(c,l){f.value={...f.value,[l]:1};function e(){f.value[l]<c.length&&(f.value={...f.value,[l]:f.value[l]+1},setTimeout(e,300))}setTimeout(e,300)}function V(c,l){if(l?R.value={...R.value,[l]:!0}:I.value=!0,l===C){let e="";c==="沉迷工作忘乎所以，外卖啥时候到的？"?e="敬业归敬业，饭也要好好吃啊":c==="疯狂刷新地图看小哥一点一点挪过来"?e="这是真人版《小哥去哪儿》沉浸式直播":c==="找好会议室，万事俱备就等饭到"&&(e="5G冲饭人已就位"),i.value.push({type:"user",text:c}),setTimeout(()=>{i.value.push({type:"text",text:e}),setTimeout(()=>{const r=M();i.value.push({type:"card-overlay-order",image:r,title:'你最晚的订单是<span class="highlight">凌晨三点</span>下单的"好吃炸鸡"'}),setTimeout(()=>{const o=w++;r===y[0]?(i.value.push({type:"options",options:["好呀，下次试试酸辣粉","达咩，我不爱吃酸辣粉","我更想试试牛肉面"],optionsId:o}),h(["好呀，下次试试酸辣粉","达咩，我不爱吃酸辣粉","我更想试试牛肉面"],o)):r===y[1]?(i.value.push({type:"options",options:["加浓美式就是这个味，得劲儿！","加浓美式才是真正的工作搭子","你误会了，我更爱喝拿铁"],optionsId:o}),h(["加浓美式就是这个味，得劲儿！","加浓美式才是真正的工作搭子","你误会了，我更爱喝拿铁"],o)):r===y[2]?(i.value.push({type:"options",options:["麦门永存 我爱麦麦","疯狂星期四，我更爱吃肯德基","其实我更爱吃塔斯汀"],optionsId:o}),h(["麦门永存 我爱麦麦","疯狂星期四，我更爱吃肯德基","其实我更爱吃塔斯汀"],o)):(i.value.push({type:"options",options:["出错了，请稍后再试"],optionsId:o}),h(["出错了，请稍后再试"],o))},800)},800)},800);return}if(c==="提交答案"){const e=`我的口味选择：${H.map((r,o)=>r.options[b.value[o]]||"").join("，")}`;i.value.push({type:"user",text:e}),setTimeout(()=>{i.value.push({type:"report-card",image:new URL("/xiaomeitaste/assets/report-gold-B6udGcXI.png",import.meta.url).href})},800);return}if(l&&l>=C+2){c==="就选这个"&&T.value?(i.value.push({type:"user",text:`我选择 ${T.value}`}),j()):c==="都不爱吃"&&(i.value.push({type:"user",text:"都不爱吃"}),j());return}i.value.push({type:"user",text:c}),setTimeout(l===C?()=>{i.value.push({type:"text",text:"只有你这样智慧的脑袋，才能想出这么多点外卖省钱的方法。"}),setTimeout(()=>{const e=M();i.value.push({type:"card-overlay-order",image:e,title:'你最晚的订单是<span class="highlight">凌晨三点</span>下单的"好吃炸鸡"'}),setTimeout(()=>{i.value.push({type:"text",text:"你是彻底放弃睡眠的夜猫子，白天靠咖啡续命，晚上靠外卖续魂！"}),setTimeout(()=>{const r=w++;e===y[0]?(i.value.push({type:"options",options:["好呀，下次试试酸辣粉","达咩，我不爱吃酸辣粉","我更想试试牛肉面"],optionsId:r}),h(["好呀，下次试试酸辣粉","达咩，我不爱吃酸辣粉","我更想试试牛肉面"],r)):e===y[1]?(i.value.push({type:"options",options:["加浓美式就是这个味，得劲儿！","加浓美式才是真正的工作搭子","你误会了，我更爱喝拿铁"],optionsId:r}),h(["加浓美式就是这个味，得劲儿！","加浓美式才是真正的工作搭子","你误会了，我更爱喝拿铁"],r)):e===y[2]?(i.value.push({type:"options",options:["麦门永存 我爱麦麦","疯狂星期四，我更爱吃肯德基","其实我更爱吃塔斯汀"],optionsId:r}),h(["麦门永存 我爱麦麦","疯狂星期四，我更爱吃肯德基","其实我更爱吃塔斯汀"],r)):(i.value.push({type:"options",options:["出错了，请稍后再试"],optionsId:r}),h(["出错了，请稍后再试"],r))},800)},800)},800)}:()=>{i.value.push({type:"image-options-card",image:new URL("/xiaomeitaste/assets/bg-Bur5aoQD.png",import.meta.url).href,title:"周末和饭搭子吃饭，你会选择：",imageOptions:Y}),setTimeout(()=>{const e=w++;i.value.push({type:"options",options:["就选这个","都不爱吃"],optionsId:e}),h(["就选这个","都不爱吃"],e)},800)},800)}function $(c){T.value=c.text}function _(c,l){b.value[c]=l,c===0?(l===0?i.value.push({type:"user",text:"西红柿炒蛋必须是甜的！"}):l===1&&i.value.push({type:"user",text:"西红柿炒蛋当然是咸的！"}),setTimeout(()=>{i.value.push({type:"taste-choices-card2",questions:F,image:new URL("/xiaomeitaste/assets/taste-bg2-DYsnPmyD.png",import.meta.url).href})},500)):c===1?(l===0?i.value.push({type:"user",text:"泡着吃多方便！"}):l===1&&i.value.push({type:"user",text:"煮着吃才有灵魂！"}),setTimeout(()=>{i.value.push({type:"taste-choices-card3",questions:N,image:new URL("/xiaomeitaste/assets/taste-bg3-bX9-5WJI.png",import.meta.url).href})},500)):c===2&&(l===0?i.value.push({type:"user",text:"脆桃才是YYDS！"}):l===1&&i.value.push({type:"user",text:"软桃香喷喷！"}),setTimeout(()=>{i.value.push({type:"report-card",image:new URL("/xiaomeitaste/assets/report-gold-B6udGcXI.png",import.meta.url).href})},800))}function j(){i.value.push({type:"taste-choices-card",questions:H,image:new URL("/xiaomeitaste/assets/taste-bg-Dz9yTa-6.png",import.meta.url).href})}function B(){S.push("/report")}return Q(()=>{O()}),(c,l)=>(a(),t(u,null,[s("div",G,[s("img",{class:"header-avatar",src:W(q),alt:"avatar"},null,8,K),l[0]||(l[0]=s("span",{class:"header-title"},"测测你的五行口味",-1))]),s("div",A,[(a(!0),t(u,null,v(i.value,(e,r)=>(a(),t("div",{key:r,class:p(["chat-row",e.type==="user"||e.type==="options"?"chat-row-user":""])},[e.type==="avatar"?(a(),t("div",E,[s("img",{class:"avatar",src:e.avatar,alt:"avatar"},null,8,J)])):e.type==="text"?(a(),t(u,{key:1},[e.imageOptions?(a(),t("div",Z,[e.text?(a(),t("div",{key:0,innerHTML:e.text},null,8,ee)):L("",!0),s("div",te,[(a(!0),t(u,null,v(e.imageOptions,(o,n)=>(a(),t("div",{key:n,class:p(["image-option",{selected:T.value===o.text}]),onClick:D=>$(o)},[l[1]||(l[1]=s("div",{class:"radio-button"},[s("div",{class:"radio-inner"})],-1)),s("img",{src:o.image,alt:o.text,class:"food-type-image"},null,8,ae)],10,se))),128))])])):(a(),t("div",{key:1,class:p(["chat-bubble text-bubble",{clickable:e.clickable}]),innerHTML:e.text,onClick:o=>e.clickable&&B(),style:{cursor:"pointer"}},null,10,oe))],64)):e.type==="options"?(a(),t(u,{key:2},[(r!==3||!I.value)&&!R.value[e.optionsId]?(a(),t("div",ie,[(a(!0),t(u,null,v(e.options.slice(0,f.value[e.optionsId]||1),(o,n)=>(a(),t("button",{key:n,class:"option-btn",onClick:D=>V(o,e.optionsId)},d(o),9,ne))),128))])):L("",!0)],64)):e.type==="user"?(a(),t("div",le,d(e.text),1)):e.type==="taste-choices"?(a(),t("div",re,[s("div",ce,[(a(!0),t(u,null,v(e.questions,(o,n)=>(a(),t("div",{key:n,class:"taste-question-row"},[s("img",{src:o.img,class:"taste-img"},null,8,ue),s("div",pe,[s("div",de,d(o.title),1),s("div",he,[s("div",{class:p(["taste-option",b.value[n]===0?"selected":"left"]),onClick:()=>_(n,0)},d(o.options[0]),11,ve),s("div",{class:p(["taste-option",b.value[n]===1?"selected":"right"]),onClick:()=>_(n,1)},d(o.options[1]),11,me)])])]))),128))])])):e.type==="card"?(a(),t("div",ye,[s("img",{class:"card-img",src:e.image,alt:"card"},null,8,_e),s("div",ge,[s("div",{class:"card-title",innerHTML:e.title},null,8,fe),s("ul",be,[(a(!0),t(u,null,v(e.items,(o,n)=>(a(),t("li",{key:n},[s("span",{innerHTML:o},null,8,ke)]))),128))])])])):e.type==="card-bg"?(a(),t("div",{key:6,class:"card-bg-bubble",style:m({backgroundImage:`url(${e.image})`})},null,4)):e.type==="card-overlay"&&r===0?(a(),t("div",{key:7,class:"card-overlay-bubble-first",style:m({backgroundImage:`url(${e.image})`})},null,4)):e.type==="card-overlay"?(a(),t("div",{key:8,class:"card-overlay-bubble",style:m({backgroundImage:`url(${e.image})`})},[s("div",xe,[s("div",{class:"card-overlay-title",innerHTML:e.title},null,8,Le),s("ul",Te,[(a(!0),t(u,null,v(e.items,(o,n)=>(a(),t("li",{key:n},[s("span",{innerHTML:o},null,8,Ce)]))),128))])])],4)):e.type==="report-card"?(a(),t("div",{key:9,class:"report-card-bubble",style:m([{backgroundImage:`url(${e.image})`},{cursor:"pointer"}]),onClick:B},null,4)):e.type==="image-options-card"?(a(),t("div",{key:10,class:"image-options-card-bubble",style:m({backgroundImage:`url(${e.image})`})},[s("div",we,[s("div",{class:"image-options-card-title",innerHTML:e.title},null,8,Re),s("div",Ue,[(a(!0),t(u,null,v(e.imageOptions,(o,n)=>(a(),t("div",{key:n,class:p(["image-option",{selected:T.value===o.text}]),onClick:D=>$(o)},[l[2]||(l[2]=s("div",{class:"radio-button"},[s("div",{class:"radio-inner"})],-1)),s("img",{src:o.image,alt:o.text,class:"food-type-image"},null,8,He)],10,Me))),128))])])],4)):e.type==="taste-choices-card"?(a(),t("div",{key:11,class:"taste-choices-card-bubble",style:m({backgroundImage:`url(${e.image})`})},[s("div",Ie,[(a(!0),t(u,null,v(e.questions,(o,n)=>(a(),t("div",{key:n,class:"taste-question-row"},[s("div",Oe,[b.value[n]===null?(a(),t("div",$e,[s("div",{class:p(["taste-option","left"]),onClick:()=>_(n,0)},d(o.options[0]),9,je),s("div",{class:p(["taste-option","right"]),onClick:()=>_(n,1)},d(o.options[1]),9,Be)])):L("",!0)])]))),128))])],4)):e.type==="taste-choices-card2"?(a(),t("div",{key:12,class:"taste-choices-card2-bubble",style:m({backgroundImage:`url(${e.image})`})},[s("div",De,[(a(!0),t(u,null,v(e.questions,(o,n)=>(a(),t("div",{key:n,class:"taste-question-row"},[s("div",Se,[b.value[n+1]===null?(a(),t("div",qe,[s("div",{class:p(["taste-option","left"]),onClick:()=>_(n+1,0)},d(o.options[0]),9,ze),s("div",{class:p(["taste-option","right"]),onClick:()=>_(n+1,1)},d(o.options[1]),9,Ye)])):L("",!0)])]))),128))])],4)):e.type==="taste-choices-card3"?(a(),t("div",{key:13,class:"taste-choices-card3-bubble",style:m({backgroundImage:`url(${e.image})`})},[s("div",Fe,[(a(!0),t(u,null,v(e.questions,(o,n)=>(a(),t("div",{key:n,class:"taste-question-row"},[s("div",Ne,[b.value[n+2]===null?(a(),t("div",Ve,[s("div",{class:p(["taste-option","left"]),onClick:()=>_(n+2,0)},d(o.options[0]),9,Pe),s("div",{class:p(["taste-option","right"]),onClick:()=>_(n+2,1)},d(o.options[1]),9,Qe)])):L("",!0)])]))),128))])],4)):e.type==="card-overlay-order"?(a(),t("div",{key:14,class:"card-overlay-bubble-order",style:m({backgroundImage:`url(${e.image})`})},null,4)):L("",!0)],2))),128))])],64))}},Ke=P(We,[["__scopeId","data-v-b4cbe888"]]);export{Ke as default};
